# ุฏููู ูููุงุตูุงุช ูุธุงู SnapScrap ุงูุดุงูู ๐

ูุฐุง ุงูููู ูุญุชูู ุนูู ุดุฑุญ ุฏููู ูุชูุตููู ููู ููุฒุฉุ ููุชุจุฉุ ูุทุฑููุฉ ุนูู ุฏุงุฎู ููุฏ ููุตุฉ SnapScrap ููุณุงุนุฏุชู ุนูู ููู ุงููุดุฑูุน ูู ุงูุฃูู ุฅูู ุงููุงุก.

---

## ๐ ุงูููููุฉ ุงูุนุงูุฉ ูููุดุฑูุน (Architecture)
ุงููุดุฑูุน ูุจูู ุนูู ุฅุทุงุฑ ุนูู (Framework) **Flask** ุจูุบุฉ Pythonุ ููู ููุณู ุฅูู ุซูุงุซ ุทุจูุงุช ุฑุฆูุณูุฉ:
1. **ูุงุฌูุฉ ุงููุณุชุฎุฏู (Frontend):** ูุจููุฉ ุจู HTML, CSS, JavaScript (ูุฌูุฏ `templates` ู `static`).
2. **ุงูุฎูุงุฏู ูุงูุนูููุงุช (Backend):** ูุจููุฉ ุจู Flask ููุชุนุงูู ูุน ุงูุทูุจุงุช ูุฅุฏุงุฑุฉ ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (APIs).
3. **ููุงุนุฏ ุงูุจูุงูุงุช (Database):** ุชุนุชูุฏ ุงููุชุบูุฑ `DATABASE_URL` ูุน ูุญุฑู SQLAlchemyุ ูุฏุนู PostgreSQL (ูู Railway) ู SQLite (ููุจูุฆุฉ ุงููุญููุฉ).

---

## ๐ ุงูููุฒุงุช ูุงูููุงุตูุงุช ุงูุจุฑูุฌูุฉ ุงูุชูุตูููุฉ

### 1 ูุธุงู ุงูุชุณุฌูู ูุชุณุฌูู ุงูุฏุฎูู (Authentication)
- **ุงูููุชุจุงุช:** `Flask-Login`ุ `Werkzeug.security`.
- **ุทุฑููุฉ ุงูุนูู:** 
  - ูุชู ุชุดููุฑ ูููุฉ ุงููุฑูุฑ (Hashing) ุจูุงุณุทุฉ `generate_password_hash` ูุญูุงูุชูุง.
  - ุนูุฏ ุงูุฏุฎููุ ูุชู ุญูุธ ุฌูุณุฉ ุงููุณุชุฎุฏู (Session) ูุดูุฑุฉ ููุคูููุฉ ุจุฃุฏูุงุช ุงูุญูุงูุฉ `SESSION_COOKIE_SECURE` ู `SESSION_COOKIE_HTTPONLY`.
  - ูุญูุงูุฉ ุงูุณูุฑูุฑ ูู ูุฌูุงุช ุชุฒููุฑ ุงูุทูุจุงุช ุงูููุทุนูุฉ (CSRF)ุ ูุชู ุงุณุชุฎุฏุงู ุฅุถุงูุฉ `Flask-WTF` ูุฒุฑุน ุชููู ูุฎูู ูู ูู ููุฑู.

### 2. ูุธุงู ุงูุชุฏููุฑ ุงูุฐูู ููููุงุชูุญ (Army of APIs) ๐
ูุฐู ูู ุฃููู ุงูููุฒุงุช ูู ุงูููุตุฉ ูุชุนูู ูู ููู `youtube_service.py`:
- ูุญุชุงุฌ ููุชููุจ ูููู `client_secret.json` ูุฑูุน ุงูููุฏูููุงุชุ ูููู ุงูุญุฏ ุงููุฌุงูู ูุชูุญ 6 ููุฏูููุงุช ููุท ููููุงู.
- **ุงูุญู ุงูุจุฑูุฌู:** ุงูููุฏ ูุจุฑูุฌ ููููู ุจูุณุญ (Scan) ูุฌูุฏ ุงููุดุฑูุน ููุจุญุซ ุนู ุฃู ููู ูุจุฏุฃ ุจู `client_secret*.json` (ูุซู `client_secret_2.json` ูููุฐุง).
- ุนูุฏ ุจุฏุก ุฑูุน ุงูููุฏูููุงุชุ ูุฌุฑุจ ุงููุธุงู ุงูููุชุงุญ ุงูุฃููุ ูุฅุฐุง ุงุณุชูุจู ุฎุทุฃ (403 Quota Exceeded)ุ ููุชูู ููุฑุงู ููููุชุงุญ ุงูุซุงููุ ุซู ุงูุซุงูุซ ุจุชุณูุณู ูุง ููุงุฆู ุจุฏูู ุชุฏุฎู ููู.
- **ุฒุฑ ุงูุฑูุน ูู ุงููุงุฌูุฉ:** ุจูุถู ูุณุงุฑ `/api/youtube/upload_client_secret` ูู ููู `app.py`ุ ููููู ุฑูุน ูุฐู ุงูููุงุชูุญ ูุจุงุดุฑุฉ ูู ููุญุฉ ุงูุชุญูู ูุชุฎุฒูููุง ูู ุงูุณูุฑูุฑ ุฏูู ุงูุญุงุฌุฉ ูู GitHub (ูุฃุณุจุงุจ ุฃูููุฉ).

### 3. ุชุญููู ูุฏูุฌ ุงูููุฏูููุงุช (Downloading & Merging) ๐
- **ุชุญููู ุงููุตุฉ (Story Download):** ูุชู ุนุจุฑ ุฃุฏุงุฉ `yt-dlp` ุฃู `snapsave`. ุนูุฏ ูุถุน ุฑุงุจุทุ ูููู ุงูููุฏ ุจูุญุตู ูู ุงูุฎูููุฉ ูุน ุนุฑุถ ุตูุญุฉ ุชุญููู (Ad Redirect) ูุฒูุงุฏุฉ ุงูุฃุฑุจุงุญุ ุจูููุง ูุชู ุงูุชุญููู ุงูุฎูู ูุจุงุดุฑุฉ ูุฌูุงุฒ ุงูุนููู.
- **ุงูุฏูุฌ ุงูุฃูุชููุงุชููู:** ูู ููู `merge_videos.py`ุ ูุณุชุฎุฏู ููุชุจุฉ `moviepy` ู `FFmpeg`.
  - ูููู ุงูููุฏ ุจุชุฌููุน ุงูููุงุทุน ุงูููุฑุฏุฉ.
  - ูุญูู ูู ููุทุน ุจููุงุณ ุซุงุจุช (9:16 ููุดูุฑุชุณ).
  - ููููู ุชุณุฑูุน ุงูููุฏูู ูููุน ุญููู ุงูุทุจุน ูุงููุดุฑ ุจูุถู ุฎูุงุฑุฒููุฉ ุงูุชุณุฑูุน ุงููุถุงูุฉ.

### 4. ูุธุงู ุงูุฏูุน ูุงูุงุดุชุฑุงูุงุช (Stripe Billing) ๐ณ
- **ุงูููุชุจุงุช:** `stripe` (ุงูุฑุณููุฉ).
- **ุทุฑููุฉ ุงูุนูู ูู ููู `billing.py`:** 
  - ุนูุฏ ุถุบุท ุงููุณุชุฎุฏู ุนูู ุงุดุชุฑุงู (Boutique / Pro)ุ ูููู ุงูููุฏ ุจูุฑุงุกุฉ ุงูููุนุฑู (Price ID) ูู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ (Environment Variables) ูุซู `STRIPE_PRICE_PRO`.
  - ูุชุตู ุงูุณูุฑูุฑ ุจู Stripe ูููุดุฆ `Checkout Session` (ุตูุญุฉ ุฏูุน).
  - ุจุนุฏ ูุฌุงุญ ุงูุฏูุนุ ููุฑุณู Stripe ุฅุดุนุงุฑุงู ุฎูููุงู (Webhook) ุฅูู ุงูุฑุงุจุท `/billing/webhook` ููููู ุงูููุฏ ุจุชุญุฏูุซ ูุงุนุฏุฉ ุจูุงูุงุช ุงููุณุชุฎุฏู ูุชุญููู ุญุณุงุจู ุฅูู ุจุงุฆุน ูุญุชุฑู (Pro) ูุฏููุงู ุฃู ุขููุงู.

### 5. ูุธุงู ุงูุชุฑุฌูุฉ (i18n Multi-language) ๐
- ุชู ุฅุฒุงูุฉ "Google Translate" ูุฌุนูู ุงุญุชุฑุงููุงู ููุญููุงู.
- **ูู ูุฌูุฏ `webapp/translations.json`:** ุชูุฌุฏ ูุตูููุงุช ุงูุชุฑุฌูุฉ (ุนุฑุจูุ ุฅูุฌููุฒูุ ูุฑูุณู).
- **ูู `app.py`:** ุชู ุชุตููู ุฏุงูุฉ ูุฎุตุตุฉ `_()` ููุฑุงุกุฉ ุงููููุงุช.
- ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู (HTML)ุ ูุชู ุงุณุชุฎุฏุงู Jinja2 ูุซู `{{ _('login') }}` ููุชู ุชุญููู ุงููููุฉ ูุญุธูุงู ุญุณุจ ูุบุฉ ุงููุณุชุฎุฏู ุงููุฎุชุงุฑุฉ ูุงููุฎุฒูุฉ ูู ูุชุตูุญู ุนุจุฑ ุงูู Session.

### 6. ุงูุชุนุงูู ุงูุตุญูุญ ูุน ุงูุฑูุน (ProxyFix Security) ๐ก
- ุฎูุงุฏู ุงูุณุญุงุจุฉ ูุซู Railway ุฃู Heroku ุชุณุชุฎุฏู Reverse Proxy (ุฎุงุฏู ูุณูุท ููุฑุฃ ุงูุทูุจุงุช).
- ูุถูุงู ุฃู Flask ูุฑู ุงูู IP ูุงูู HTTPS ุจุดูู ุตุญูุญ ูุนุฏู ุชููู ุชุณุฌูู ุงูุฏุฎูู (500 Error)ุ ุชู ุฏูุฌ ุฃุฏุงุฉ `ProxyFix` ูู ุจุฏุงูุฉ ุชุนุฑูู ุงูู `app`. ุงูููุฏ ูู ูุนูู ุนูู ุงูุณุญุงุจุฉ ุจุฏูููุง.

---

## ๐ ุงููุฌูุฏุงุช ุงููููุฉ ูู
- **`tokens/`**: ูุฎุฒู ูููุงุช ุชูุซูู ููุชููุจ ุงูุชู ูุงููุช ุนูููุง. ุฅุฐุง ุญุฐูุชู ุณูุชููู ุงูุฑูุน ุงูุขูู ูููุชููุจ ุญุชู ุชุณุฌู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู.
- **`stories/` ุฃู `uploads/`**: ุณูุญุชูู ุนูู ุงูููุฏูููุงุช ุงูุชู ูุฎุชุจุฑูุง ุงููุธุงู ุฃู ูุญูููุง ุงููุณุชุฎุฏู ูููุถู ูุณุญู ุฏูุฑูุงู.

ูุฐุง ุงููุดุฑูุน ูุชูุงูู ุจุฃุญุฏุซ ุชูููุงุช ุจูุงุก ุชุทุจููุงุช ุงูู SaaS ูุงูุดุฑูุงุช ุงููุงุดุฆุฉ ูุนุงู 2026.
